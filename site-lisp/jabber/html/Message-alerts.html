<html lang="en">
<head>
<title>Message alerts - jabber.el manual 0.7.1</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="jabber.el manual 0.7.1">
<meta name="generator" content="makeinfo 4.7">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Customizing-alerts.html#Customizing-alerts" title="Customizing alerts">
<link rel="prev" href="Presence-alerts.html#Presence-alerts" title="Presence alerts">
<link rel="next" href="MUC-alerts.html#MUC-alerts" title="MUC alerts">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual is for jabber.el, version 0.7.1.

Copyright (C) 2004, 2005, 2006, 2007 Magnus Henoch, Tom Berger.

     Permission is granted to make and distribute verbatim copies or
     modified versions of this manual, provided the copyright notice and
     this permission notice are preserved on all copies.
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc { font-variant:small-caps }
  span.roman { font-family: serif; font-weight: normal; } 
--></style>
</head>
<body>
<div class="node">
<p>
<a name="Message-alerts"></a>Next:&nbsp;<a rel="next" accesskey="n" href="MUC-alerts.html#MUC-alerts">MUC alerts</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Presence-alerts.html#Presence-alerts">Presence alerts</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Customizing-alerts.html#Customizing-alerts">Customizing alerts</a>
<hr><br>
</div>

<h4 class="subsection">15.6.3 Message alerts</h4>

<p><a name="index-jabber_002dalert_002dmessage_002dfunction-213"></a><a name="index-jabber_002dmessage_002ddefault_002dmessage-214"></a><a name="index-jabber_002dmessage_002dalert_002dsame_002dbuffer-215"></a>
If you don't want message alerts when the chat buffer in question is
already the current buffer, set <code>jabber-message-alert-same-buffer</code>
to nil.  This affects the behaviour of the default message function, so
you'll have to reimplement this functionality if you write your own
message function.

   <p>Set <code>jabber-alert-message-function</code> to your desired
function.<a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a>  This function should look like:

<pre class="example">     (defun <var>function</var> (<var>from</var> <var>buffer</var> <var>text</var>)
        ...
        )
</pre>
   <p><var>from</var> is the JID symbol (see <a href="Roster-structure.html#Roster-structure">Roster structure</a>), <var>buffer</var>
is the buffer where the message is displayed, and <var>text</var> is the
text of the message.

   <p>The default function, <code>jabber-message-default-message</code>, returns
&ldquo;Message from <var>person</var>&rdquo;, where <var>person</var> is the name of the
person if specified in the roster, otherwise the JID.

   <p>All message alert hooks take the same arguments plus the additional
<var>proposed-alert</var>, which is the result of the specified message
function.

   <div class="footnote">
<hr>
<h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> Logically it should be
<code>jabber-alert-message-message-function</code>, but that would be
really ugly.</p>

   <p><hr></div>

   </body></html>

