<html lang="en">
<head>
<title>Roster structure - jabber.el manual 0.7.1</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="jabber.el manual 0.7.1">
<meta name="generator" content="makeinfo 4.7">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Hacking-and-extending.html#Hacking-and-extending" title="Hacking and extending">
<link rel="prev" href="XML-representation.html#XML-representation" title="XML representation">
<link rel="next" href="Listening-for-new-requests.html#Listening-for-new-requests" title="Listening for new requests">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual is for jabber.el, version 0.7.1.

Copyright (C) 2004, 2005, 2006, 2007 Magnus Henoch, Tom Berger.

     Permission is granted to make and distribute verbatim copies or
     modified versions of this manual, provided the copyright notice and
     this permission notice are preserved on all copies.
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc { font-variant:small-caps }
  span.roman { font-family: serif; font-weight: normal; } 
--></style>
</head>
<body>
<div class="node">
<p>
<a name="Roster-structure"></a>Next:&nbsp;<a rel="next" accesskey="n" href="Listening-for-new-requests.html#Listening-for-new-requests">Listening for new requests</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="XML-representation.html#XML-representation">XML representation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Hacking-and-extending.html#Hacking-and-extending">Hacking and extending</a>
<hr><br>
</div>

<h3 class="section">16.2 Roster structure</h3>

<p><a name="index-_002ajabber_002droster_002a-229"></a><a name="index-jabber_002djid_002dobarray-230"></a>
Roster entries are contained in the list <code>*jabber-roster*</code>.

   <p>A roster entry is a symbol.  Its name is the JID, and it is interned
in <code>jabber-jid-obarray</code>.  A roster entry can have the following
properties:

     <dl>
<dt><code>xml</code><dd>The XML tag received from the server on roster update

     <br><dt><code>name</code><dd>The name of the roster item (just like the XML attribute)

     <br><dt><code>subscription</code><dd>The subscription state (also copied)

     <br><dt><code>ask</code><dd>The ask state (copied)

     <br><dt><code>groups</code><dd>A list of strings (possibly empty) containing all the groups the
contact is in

     <br><dt><code>connected</code><dd>Boolean, true if any resource is connected

     <br><dt><code>show</code><dd>Presence show status for highest-priority connected resource

     <br><dt><code>status</code><dd>Presence status message for highest-priority connected resource

     <br><dt><code>resources</code><dd>Alist.  Keys are strings (resource names), values are plists with
properties <code>connected</code>, <code>show</code>, <code>status</code> and
<code>priority</code>.

   </dl>

   <p>Incoming presence information is inserted in <code>resources</code>, and the
information from the resource with the highest priority is inserted in
<code>show</code> and <code>status</code> by the function
<code>jabber-prioritize-resources</code>.

   </body></html>

